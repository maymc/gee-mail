<!DOCTYPE html>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">

	    <script>
	      window.onload = function(){
	        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
	        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
	        
	        //Geemails array is populated already after this code runs

	        console.log(geemails);

	        //Obtain parent of messages
	        var inboxElem = document.getElementById("inbox");

	        for(var i=0; i<geemails.length; i++){

	        	//Create a new row for the new message
		        var msgElem = document.createElement("tr");
		        msgElem.className = "message";
		        inboxElem.appendChild(msgElem);

		        //Populate new msg with new date
		        var dateElem = document.createElement("td");
		        dateElem.id = "date";
		        dateElem.innerHTML = geemails[i].date;
		        msgElem.appendChild(dateElem);

		        //Populate new msg with new sender
		        var senderElem = document.createElement("td");
		        senderElem.id = "sender";
		        senderElem.innerHTML = geemails[i].sender;
		        msgElem.appendChild(senderElem);

		        //Populate new msg with new subject
		       	var subjectElem = document.createElement("td");
		        subjectElem.id = "subject";
		        subjectElem.innerHTML = geemails[i].subject;
		        msgElem.appendChild(subjectElem);

		        var bodyElem = document.createElement("p");
		        bodyElem.id = "body";
		        bodyElem.innerHTML = geemails[i].body;
		        msgElem.appendChild(bodyElem);
		        bodyElem.style.display = "none";


	        }

				var msgClick = document.getElementsByClassName("message");

				for(var j=0; j<msgClick.length; j++){
					msgClick[j].addEventListener("click", toggle);
				}

				function toggle(){
					var clickDate = this.querySelectorAll("#body")[0];
					if(clickDate.style.display === "none")
						clickDate.style.display = "block";
					else
						clickDate.style.display = "none";
				}




	        //When clicking on a message you must provide some method of showing the message for that row
	        // var subjectSelector = this.querySelectorAll(".subject")[0];
	        // if(subjectSelector.style.display === "none"){
	        // 	subjectSelector.style.display = "block";
	        // }
	        // else
	        // 	subjectSelector.style.display = "none";



	      };

	    </script>

	</head>
	
	<body>
		<header>
			<div>
				<h1 id="appName">Gee-Mail</h1>
			</div>
		</header>

<!-- 		<div class="container" id="main">
			Build Me!
		</div>
		 -->
<!-- 		<section id="inbox">
			Show an inbox count somewhere on the page to show the current number of messages in your inbox
			
			<div id="count">
				<p></p>
			</div>


		</section> -->


		<section class="content">
			<!--Display messages here-->
			<!--4. With this data you must make a visual list of mail messages on the page with the following minimum requirements.
				* Each message should have it's own row showing:
					* Date
					* Sender
					* Subject
					* When clicking on a message you must provide some method of showing the message for that row.-->
			<table id=inbox>
				<!--date - The date message was sent-->
<!-- 				<tr id="message">
					<td id="date">Date</td>
					<td id="sender">Sender</td>
					<td id="subject">Subject</td>
				</tr> -->
			</table>
		</section>






	</body>
</html>






